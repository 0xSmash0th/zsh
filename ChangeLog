2000-12-03  Clint Adams  <schizo@debian.org>

	* 13216: Doc/Zsh/.distfiles, Doc/Zsh/builtins.yo,
	Doc/Zsh/mod_termcap.yo, Doc/Zsh/mod_terminfo.yo,
	Src/Modules/.distfiles: documentation for 13215.

	* 13215: Src/builtin.c, Src/Modules/termcap.c,
	Src/Modules/termcap.mdd, Src/Modules/terminfo.c,
	Src/Modules/terminfo.mdd: move echotc builtin to termcap
	module, add echoti builtin and terminfo parameter in
	terminfo module.

2000-11-30  Peter Stephenson  <pws@csr.com>

	* 13209: Makefile.in, configure.in, Config/funcinst.mk,
	Config/installfns.sh, Config/uninstallfns.sh, Src/zsh.mdd,
	Src/Modules/zftp.mdd, Src/Zle/complete.mdd, Src/Zle/zle.mdd:
	function installation information is now in config.modules.

2000-11-27  Bart Schaefer  <schaefer@zsh.org>

	* 13203: Completion/Builtins/_zstyle: Add missing quote.

2000-11-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 13199: .cvsignore, Completion/User/_gprof: pattern-fix in
 	_gprof; add config.modules to .cvsignore
	
2000-11-27  Peter Stephenson  <pws@csr.com>

	* 13197: configure.in: fix problems with use of link parameter,
	directories for reading old config.modules file, and inconsistent
	values for auto parameter.

	* 13196: Etc/zsh-development-guide: Use of `either' keyword for
	`link' module parameter.

2000-11-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13194: INSTALL, configure.in, Config/defs.mk.in,
	Etc/zsh-development-guide, Src/.distfiles, Src/Makefile.in,
	Src/Makemod.in.in, Src/mkbltnmlst.sh, Src/mkmakemod.sh,
	Src/zsh.mdd, Src/Builtins/rlimits.mdd, Src/Builtins/sched.mdd,
	Src/Modules/cap.mdd, Src/Modules/clone.mdd,
	Src/Modules/example.mdd, Src/Modules/files.mdd,
	Src/Modules/mapfile.mdd, Src/Modules/mathfunc.mdd,
	Src/Modules/parameter.mdd, Src/Modules/stat.mdd,
	Src/Modules/zftp.mdd, Src/Modules/zprof.mdd, Src/Modules/zpty.mdd,
	Src/Modules/zutil.mdd, Src/Zle/compctl.mdd, Src/Zle/complete.mdd,
	Src/Zle/complist.mdd, Src/Zle/computil.mdd, Src/Zle/deltochar.mdd,
	Src/Zle/zle.mdd, Src/Zle/zleparameter.mdd: New module
	configuration system using file config.modules set up by
	configure.

2000-11-25  Bart Schaefer  <schaefer@zsh.org>

	* 13192: Completion/Core/compinit, Src/params.c: Turn off
	ALL_EXPORT during completion; don't export arrays or hashes, even
	with ALL_EXPORT.

2000-11-22  Tanaka Akira  <akr@zsh.org>

	* 13181: Completion/Debian/_apt: add an action for _alternative.

2000-11-20  Bart Schaefer  <schaefer@zsh.org>

	* E. Jay Birkenbilt: 13171, 13172: Completion/User/_rlogin,
	Completion/User/_ssh: Don't autoremove a trailing `:' after
	completing a host name, but do autoremove a trailing `@' after
	completing a user name.

2000-11-15  Bart Schaefer  <schaefer@zsh.org>

	* 13167: Completion/User/_perl_modules: Avoid cd entirely.

2000-11-14  Bart Schaefer  <schaefer@zsh.org>

	* 13165 plus unposted: Completion/User/_perl_modules: `builtin cd'
	is better than chdir; make sure the variable name used for the cache
	has a leading underscore, but strip that off to get the name under
	which the cache is stored and retrieved; cache separately for each
	command basename (e.g., perl5.00405 v. perl5.00503), not just each
	full path name.
	
	* Paul Johnson: 13164: Completion/User/_perl_modules: If a full
	path was given for the command after which perl modules are being
	completed, look up and cache the modules under the full name; use
	chdir instead of cd in case of a function wrapper for cd.

2000-11-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 13163: Src/Modules/zpty.c: don't be sure that read-ahead doesn't
 	contains nuls
	
2000-11-13  Peter Stephenson  <pws@csr.com>

	* unposted: config.sub, config.status: updated from GNU sources,
	incorporating existing changes for NetBSD.

2000-11-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 13156: Src/Modules/zpty.c: use unmetafy() to allow writing
 	special characters into a pty
	
2000-11-12  Clint Adams  <schizo@debian.org>

	* unposted: Completion/Debian/_bug: fix thinkos, add new options
	for reportbug.

	* unposted: Completion/Debian/_bug: complete files for --include=,
	completion for querybts.

2000-11-11  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 13109, 13111: Doc/Zsh/mod_zle.yo, Src/Zle/zle_main.c,
	Src/Zle/zle_thingy.c, Src/signals.c: `zle -I' allows trap code
	to clear up display when output occurs in a trap.

	* Sven: 13108: Src/Modules/zftp.c, Src/Modules/zpty.c,
	Src/Zle/zle_main.c, Src/builtin.c, Src/exec.c, Src/init.c,
	Src/input.c, Src/jobs.c, Src/signals.c, Src/signals.h,
	Src/utils.c, Src/zsh.h: Execute user traps synchronously if it is
	unsafe to execute it directly from the signal handler.

2000-11-09  Clint Adams  <schizo@debian.org>

	* 13125: Completion/User/_mailboxes: evaluate the mailboxes
	directives in muttrc, in case of backticks.

2000-11-08  Bart Schaefer  <schaefer@zsh.org>
	* 13140: Src/utils.c: Believe the non-error not-ready return value
	from select(), in read_poll().
	
2000-11-08  Sven Wischnowsky  <wischnow@zsh.org>

	* unposted: Src/Modules/zpty.c: use possible read character from
	read_poll() in loop in ptyread()

	* 13128: Completion/Builtins/_zstyle, Completion/Core/_match,
 	Completion/Core/_path_files, Doc/Zsh/compsys.yo: aloow value
 	`pattern' for insert-unambiguous style to preserve patterns in the
 	original string; add list-suffixes style to make file completion
 	list path suffixes if possible; slightly improved completion of
 	pathnames with multiple pattern-components

2000-11-06  Bart Schaefer  <schaefer@zsh.org>

	* 13127: Completion/User/_rcs: Test of $compstate[nmatches] was a
	no-op, removed it.

2000-11-05  Bart Schaefer  <schaefer@zsh.org>

	* 13124: Functions/Misc/nslookup: Use "command nslookup" as it's
	now possible to call the nslookup function recursively from zpty.

	* unposted: Src/Modules/zpty.c: Cloned shell is non-interactive
	for purposes of calling zexit(), so it doesn't print job status,
	save history, etc.

	* 13123: Doc/Zsh/mod_zpty.yo, Src/utils.c, Src/Modules/zpty.c:
	Change `zpty' to act as a combination of `clone' and `eval', to
	remove the limitation that only external commands can be run on
	the pty.  Also fix typos in utils.c.

	* 13120: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup,
	Src/utils.c, Src/Modules/zpty.c: Merge Sven's uncommitted patch
	from 13061 with 13116.  WARNING: This reverses the meaning of
	`zpty -b'; the default is now blocking, -b selects non-blocking.
	Fix nslookup accordingly.  Clean up read_poll() somewhat.
	Document that `zpty -w' and `zpty -r' can stream to/from the pty.

2000-11-04  Bart Schaefer  <schaefer@zsh.org>

	* 13118: Completion/Core/compinit: Add `bareglobqual' to the
	standard setopts for the completion system.

	* 13116: Src/Modules/zpty.c: More informative error output; better
	streaming behavior of `zpty -r'; prevent hang on `zpty -t' when
	the command was started with `zpty -b'.

2000-11-02  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3503: Doc/Zsh/mod_parameter.yo, Src/jobs.c,
	Src/Modules/parameter.c: show current/previous job in $jobstates

2000-11-01  Sven Wischnowsky  <wischnow@zsh.org>

	* 13107: Functions/Misc/zed: don't reset just-edited trap function
 	to old value

2000-10-30  Sven Wischnowsky  <wischnow@zsh.org>

	* 13095: Src/Modules/parameter.c: make assignament to $nameddirs
 	behave like hash -d

2000-10-25  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3472: Completion/User/_rcs: use return value of _files,
	don't use ${PRE,SUF}FIX for globbing, complete all files as a
	default for "co"

	* 13084: Src/Zle/complist.c: re-display list for cleanup only if
 	we were in menu selection

	* 13082: Src/Zle/complist.c, Src/Zle/compresult.c: add a counter
 	for invalidatelist() to allow finding out if there is a new list

2000-10-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 13071: Src/Zle/complist.c, Src/Zle/compresult.c: avoid printing
 	file type characters in completion lists for matches ending in a
 	slash

2000-10-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 13037: Completion/Core/_path_files, Doc/Zsh/compsys.yo: change
 	some tags used in filename completion: no tag for file-sort,
 	fake-files and ignore-parents, paths for accept-exact

2000-10-21  Bart Schaefer  <schaefer@zsh.org>

	* 13057: Src/Zle/zle_main.c: `vared -h' should not imply `vared -e';
	use of -e should override the setting of the IGNOREEOF option.
	(The -e flag was added by zsh-workers/9396, for 3.1.6-dev-16.)

2000-10-20  Bart Schaefer  <schaefer@zsh.org>

	* 13055: Src/hist.c, Src/Zle/zle_main.c: Fix `vared -h' for non-
	interactive shells (scripts).

2000-10-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 13036: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_main_complete,
 	Completion/Core/compinit: simplify setting standard completion
 	system options using $_comp_options

	* 13035: Doc/Zsh/mod_zpty.yo, Functions/Misc/nslookup, Src/utils.c,
 	Src/Modules/zpty.c, Test/comptest: make non-blocking IO on ptys
 	work again; add -t option to test if command is still alive

2000-10-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 13034: Src/hist.c: Don't call histreduceblanks() if the line
	didn't parse right.

2000-10-17  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Functions/Misc/zmv: Small typo in example in comment.

2000-10-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 13005: Src/Zle/computil.c: make _arguments ignore unspecified
 	non-option arguments to the right of the cursor

2000-10-17  Peter Stephenson  <pws@csr.com>

	* Config/version.mk, Functions/Zle/.distfiles,
	Completion/Core/.distfiles: 3.1.9-dev-7

	* Functions/Misc/zmv: in verbose mode, report if something was
	skipped because it didn't change.

2000-10-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 13003: Test/54compmatch.ztst: add tests for the stuff in 12995

2000-10-13  Bart Schaefer  <schaefer@zsh.org>

	* 13000: Doc/Zsh/jobs.yo: Document tty restoration when a stopped
	job is resumed with fg.  This was previously documented only under
	the STTY parameter, but it applies to all stopped jobs.

2000-10-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 12995: Src/Zle/compmatch.c: two completion matching fixes; wrong
 	(path) prefix matching (removed path components) and reverse order
 	of sub-strings in match-strings

2000-10-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12974: Completion/Core/_tags, Completion/Core/_sort_tags,
	Doc/Zsh/compsys.yo: remove possibility for func() entries in
	tag-order style, can be done using zstyle -e

	* 12954, 12973: Completion/Builtins/_zstyle,
	Completion/Core/_path_files, Doc/Zsh/compsys.yo: rename fake style
	to fake-files

2000-10-11  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12958: Cosmo <cosmo@informix.com>: aczsh.m4: fix for NCR compiler

2000-10-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12960: Completion/Builtins/_zstyle, Completion/Commands/_expand_word,
 	Completion/Core/_all_matches, Completion/Core/_expand,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Src/Zle/comp.h,
 	Src/Zle/compcore.c, Src/Zle/complete.c, Src/Zle/complist.c,
 	Src/Zle/compresult.c:add _all_matcher completer and supporting
 	C-code for adding a special match representing all other matches;
 	remove completions style from _expand(|_word)

	* 12959: Src/Zle/compcore.c, Src/Zle/complist.c: make user defined
 	completion widgets leave menu selection without accepting the
 	currently selected match

2000-10-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 12948: Completion/Core/_expand: follow-up to 12942, only a
 	missing redirection

	* 12946: Completion/Base/_math, Completion/Base/_subscript,
 	Completion/Builtins/_vars, Completion/Builtins/_zstyle,
 	Completion/Core/_parameters, Doc/Zsh/compsys.yo: add
 	fake-parameters style to allow completing parameters which are not
 	yet set

	* 12942,12945: Completion/Core/_expand: temporarily remove global
 	aliases to avoid error message inside the evals

	* 12941: Src/Zle/compmatch.c: follow-up to 12930, make it first
 	try exact character matches, but enable it to go back to try match
 	specs if it fails after accepting such character matches

2000-10-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 12930: Src/Zle/compmatch.c: prefer exact character matches over
 	match specs (so that `nom' can match `nomatch' in _options)

2000-10-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 12919: Completion/User/_tiff, Completion/X/_xv: search for *.tif
 	files, too

	* 12917: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Builtins/_autoload, Completion/Builtins/_cd,
 	Completion/Builtins/_compdef, Completion/Builtins/_popd,
 	Completion/Core/_expand, Completion/Core/_path_files,
 	Completion/Linux/_rpm, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_man,
 	Completion/User/_perl_modules, Completion/User/_printers,
 	Completion/User/_zdump: more option setting cleanup; remove some
 	unnecessary setopts, remove N qualifiers

2000-10-05  Bart Schaefer  <schaefer@zsh.org>

	* 12912: Completion/Commands/_bash_completions,
	Completion/Commands/_complete_debug,
	Completion/Commands/_complete_help,
	Completion/Commands/_correct_word,
	Completion/Commands/_expand_word,
	Completion/Commands/_history_complete_word,
	Completion/Commands/_next_tags, Completion/Core/_main_complete:
	Other places where `unsetopt cshnullglob' is needed.

2000-10-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12901: Doc/Zsh/compwid.yo, Doc/Zsh/manual.yo: cleanup for 12896

	* 12899: Completion/Core/_main_complete: unset cshnullglob

	* 12898: Src/parse.c: don't return invalid Eprog after parse error

	* 12897: Src/Zle/computil.c: comparguments: don't use
 	rest-argument-specification if it was inactivated

	* 12896: Doc/Zsh/arith.yo, Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
 	Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
 	Doc/Zsh/func.yo, Doc/Zsh/mod_complist.yo: cleanup

	* 12892: Completion/Core/_files, Completion/Core/_path_files,
 	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo: complete after automounted
 	directories (a rather ugly hack); remove old code in _files (comma
 	separated patterns); improve docs for fake style and for comma
 	separated qualifier lists

2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12886: Completion/User/_cvs: make _cvs_vendor_branches to handle
	remote-access style.

2000-10-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12885: Src/Zle/zle_tricky.c: don't stop parsing too early when
 	completing inside a command substitution

	* 12884: Src/Zle/compcore.c: don't forget a displayed list when
 	starting menu completion

2000-10-04  Tanaka Akira  <akr@zsh.org>

	* 12872: Completion/User/_cvs: Fix modules completion when a cvsroot
	specified in a command line begins with tilde.  Generate subcommand
	list from `cvs --help-commands' and `cvs --help-synonyms'.  Complete
	remote modules. Complete vendor branch for a second argument of
	`cvs import'.  Use _call.

2000-10-02  Bart Schaefer  <schaefer@zsh.org>

	* 12869: Src/builtin.c, Src/exec.c, Src/glob.c, Src/signals.c,
	Src/utils.c: Change several zerr() to zwarn(), either because
	errflag was immediately cleared after calling zerr(), or to make
	builtin commands fail normally (with nonzero exit status) rather
	than aborting all the way back to top level.

2000-10-01  Clint Adams  <schizo@debian.org>

	* unposted: Src/Zle/compresult.c: remove unused variable declaration.

2000-09-27  Clint Adams  <schizo@debian.org>

	* 12863: Src/string.c, Src/Zle/compresult.c: remove ztrdupstring(),
	fold guts back into ztat(), change memory allocation to VARARR.

2000-09-25  Bart Schaefer  <schaefer@zsh.org>

	* 12862: Src/exec.c: Fix STTY parameter to match documentation.
	(Plus unposted addition at the end of execcmd() to clear STTYval.)

2000-09-22  Clint Adams  <schizo@debian.org>

	* 12860: Src/jobs.c: don't check length against PATH_MAX or
	truncate.

	* 12859: Src/string.c, Src/Zle/compresult.c:
	dynamically allocate buffer in ztat, remove
	duplication loop to ztrdupstrip().

2000-09-20  Bart Schaefer  <schaefer@zsh.org>

	* 12851, 12852: Completion/Commands/_expand_word,
	Completion/Core/_expand, Doc/Zsh/compsys.yo: Change the way the
	completers are selected for _expand_word; clarify and update doc.

2000-09-20  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12848: Doc/Zsh/zle.yo: Alphabetize list of parameters

	* 12842 with corrections of Bart: Doc/Zsh/contrib.yo: Clarify
	digest file usage.

2000-09-19  Clint Adams  <schizo@debian.org>

	* 12847: Src/builtin.c: dynamically allocate z and buf in
	bin_whence().

	* 12846: Src/.distfiles, Src/mem.c, Src/string.c, Src/utils.c,
	Src/zsh.mdd: Move dupstring(), ztrdup(), tricat(), zhtricat(),
	dyncat(), dupstrpfx(), ztrduppfx(), and appstr() to string.c.

	* 12845: Src/Modules/files.c: dynamically allocate pbuf in domove().

2000-09-18  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12835: Doc/Zsh/compwid.yo: Alphabetize list of special parameters

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12836: Src/Modules/files.c: use ztrdup()/appstr() in lieu of
	statically-allocated buffer in bin_ln.

2000-09-18  Bart Schaefer  <schaefer@zsh.org>

	* 12833: Back out the zasprintf changes from 12814, they're not
	being used any more and they break common builds like SunOS.

2000-09-17  Bart Schaefer  <schaefer@zsh.org>

	* 12829: Src/glob.c, Src/init.c, Src/utils.c: Move dyncat() and
	tricat() to utils.c; rewrite 12814, 12818, 12827 and 12828 for
	less allocation-intensive behavior.

2000-09-18  Clint Adams  <schizo@debian.org>

	* 12828: Src/utils.c: dynamically allocate 'dir' in mailstat.

	* 12827: Src/utils.c: dynamically allocate 'file' in mailstat.

2000-09-17  Clint Adams  <schizo@debian.org>

	* unposted: Src/system.h, Src/utils.c: define mailstat()
	as a macro if MAILDIR_SUPPORT is undefined.

	* 12823: Src/builtin.c, Src/utils.c: use zsh heap instead of
	permanent heap.

	* 12821: Src/builtin.c: bin_dot is now independent of PATH_MAX.

2000-09-16  Bart Schaefer  <schaefer@zsh.org>

	* 12817: Doc/Zsh/builtins.yo, Src/builtin.c: Give meaning to
	"typeset +m" and "typeset +g -m".

2000-09-16  Clint Adams  <schizo@debian.org>

	* 12818: Src/init.c: call tricat() instead of zasprintf()
	as inspired by Bart.

	* 12814: configure.in, Src/compat.c, Src/init.c, Src/system.h:
	implement zasprintf and use it in lieu of sprintf with a
	static buffer in sourcehome().

2000-09-15  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Doc/Zsh/contrib.yo: Missing hunk from 12765 (replace
	another use of "wordcode").

2000-09-14  Bart Schaefer  <schaefer@zsh.org>

	* 12804: Src/builtin.c: "typeset -m" implies "-g".

	* unposted: Completion/Commands/_complete_debug: Changed my mind
	about the edit to 12800.

2000-09-13  Bart Schaefer  <schaefer@zsh.org>

	* 12800: E. Jay Berkenbilt: Completion/Commands/_complete_debug:
	Quote the file name pushed onto the history, in case the command
	word has strange characters in it.  (Slighty edited.)

2000-09-11  Bart Schaefer  <schaefer@zsh.org>

	* 12793: Completion/Builtins/_zle, Doc/Zsh/compwid.yo,
	Doc/Zsh/mod_zle.yo: Convert _zle to use _arguments; fix typos.

2000-09-08  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12779: Src/system.h: Comment out #define _XPG_IV for sinix.
	It was not correct to set it here, and is not needed with
	currently supported versions. If anybody happens to run really
	outdated SINIX, we should add check for gettimeofday prototype
	instead.

2000-09-07  Bart Schaefer  <schaefer@zsh.org>

	* 12773: Doc/Zsh/contrib.yo, Functions/Zle/smart-insert-last-word:
	Add the smart-insert-last-word function from zsh-users/3272.
	Change "completion style" to "widget style" in a few places.

2000-09-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 12769: Completion/Builtins/_cd: more sensible value

	* 12768: as suggested by Andrej (12767): Completion/Bsd/_bsd_pkg,
	Completion/Bsd/_kld, Completion/User/_gcc, Completion/User/_gdb,
 	Completion/User/_mailboxes, Completion/User/_zdump: stick some
 	`N's into glob patterns

2000-09-06  Bart Schaefer  <schaefer@zsh.org>

	* 12765,12766: Doc/Zsh/builtins.yo, Doc/Zsh/contrib.yo: Eliminate
	use of "wordcode".

2000-09-06  Peter Stephenson  <pws@csr.com>

	* 12762: Akinori MUSHA: configure.in, Completion/Bsd/_kld:
	changes for new FreeBSD releases.

2000-09-06  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12761: Doc/ztexi.yo: `` was converted into " by makeinfo;
	use `@:` instead. In line, use `{}` for tex, this looks better
	in printed output.

	* unposted: aczsh.m4, conifgure.in:  Remove patch from 12686
	that was accidentally commited

2000-09-05  Bart Schaefer  <schaefer@zsh.org>

	* 12745: Doc/Zsh/contrib.yo: Add a cross-reference; include some
	comments about using completers with predict-on.

2000-09-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12744: Doc/Zsh/contrib.yo, Doc/Zsh/mod_complist.yo,
 	Functions/Zle/incremental-complete-word: change context for i-c-w
 	styles, update docs

2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12742: Doc/.distfiles, Doc/Makefile.in, Doc/Zsh/.distfiles,
	Doc/Zsh/builtins.yo, Doc/Zsh/compsys.yo, Doc/Zsh/contrib.yo,
	Doc/Zsh/manual.yo, Doc/Zsh/zftpsys.yo, Doc/Zsh/zle.yo,
	Doc/zsh.yo, Doc/zshcontrib.yo, Functions/Prompts/promptinit,
	Functions/Zle/history-search-end, Functions/Zle/predict-on:
	Create new "User Contributions" chapter in the manual; move
	some items there from existing chapters; fix a few typos.
	Minor improvements to promptinit and history-search-end.
	Larger improvements to predict-on, including removing the
	`:completion' prefix from most of its style contexts.

2000-09-04  Peter Stephenson  <pws@csr.com>

	* 12741: Src/math.c: problem with nested matheval unexpectedly
	stomping on outputradix.

2000-09-04  Andrej Borsenkow <Andrej.Borsenkow@mow.siemens.ru>

	* 12736: configure.in: Fix `make install' dependency
	for Cygwin static build

2000-09-04  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-6

2000-09-04  Bart Schaefer  <schaefer@zsh.org>

	* 12733: Functions/Misc/colors: Restore `grey' and other
	accidentally-misplaced elements in the `fg*' and `bg*' arrays.

	* 12732: Src/params.c: Suppress base# prefix when base is 10 even
	if the [##base] format of 12722 was not used.

2000-09-03  Clint Adams  <schizo@debian.org>

	* 12728: Completion/User/_man: complete _files instead of
	manpages if -l or --local-file is present on the commandline.

2000-09-03  Bart Schaefer  <schaefer@zsh.org>

	* 12726,12727: Functions/Misc/zrecompile: Handle pass-through of
	all zcompile options.

2000-09-02  Bart Schaefer  <schaefer@zsh.org>

	* 12725: Util/helpfiles: Recognize more end-of-page patterns, and
	find the end of the builtins section correctly.

	* 12723: Util/reporter: Modernize variables and options handling;
	add zstyle to output.

2000-09-02  Andrew Main  <zefram@zsh.org>

	* 12722: Doc/Zsh/arith.yo, Src/math.c, Src/params.c: Allow
	[##base] as well as [#base]; the doubled # suppresses output
	of a base prefix.  Also clean up parsing of [] base-selection
	constructs.

2000-09-01  Bart Schaefer  <schaefer@zsh.org>

	* 12721: Functions/Misc/allopt: Remove "emulate" which changes the
	output of the function; other minor cleanup.

2000-08-30  Clint Adams  <schizo@debian.org>

	* 12720: Completion/Debian/_dpkg: change two instances of
	_files to _path_files to avoid completion of all-files.

2000-08-29  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12719: Doc/Zsh/mod_zle.yo, Src/utils.c, Src/Zle/zle_main.c:
	handle quoting of separators in arrays when there might also be
	real backslashes around.

2000-08-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 12717: Src/Zle/zle_tricky.c: fix for unbalanced calls to
 	{push,pop}heap in docomplete()/get_comp_string()

2000-08-28  Bart Schaefer  <schaefer@zsh.org>

	* 12716: Doc/Zsh/builtins.yo, Doc/Zsh/compctl.yo,
	Doc/Zsh/compsys.yo, Doc/Zsh/expn.yo, Doc/Zsh/grammar.yo,
	Doc/Zsh/mod_zutil.yo, Doc/Zsh/params.yo: Documentation and index
	entries for the REPLY and reply parameters, plus index entries for
	a couple of paramters used by the completion system.

2000-08-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 12710: Src/exec.c: fix for `function' without names

2000-08-27  Oliver Kiddle  <opk@zsh.org>

	* 12708: Completion/AIX/_logical_volumes: new AIX completion function

2000-08-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 12692: Alexandre: 12691; 12692: Completion/User/_gv,
	Completion/User/_pdf, Completion/User/_ps, Completion/User/_pspdf:
 	complete compressed files for gv; improve results from _pspdf

2000-08-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12682: Completion/Builtins/_zmodload: use return value

2000-08-18  Oliver Kiddle  <opk@zsh.org>

	* 12677: Completion/Builtins/_zmodload: use _arguments in _zmodload

2000-08-16  Peter Stephenson  <pws@csr.com>

	* unposted: Src/.distfiles: forgot this yet again.

	* pws/Andrej: 12594, 12661: Src/zsh.rc, Src/zsh.ico, Src/Makefile.in,
	configure.in: basic support for Windows resources including icon,
	will be built in for cygwin.

	* Andrej: 12658: .cvsignore, Src/.cvsignore: cscope ignorance.

2000-08-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 12654: Doc/Zsh/mod_parameter.yo, Src/Modules/parameter.c: make
 	$modules report aliases correctly

	* unposted: Completion/Builtins/_pids: remove unnecessary local parameter

2000-08-15  Peter Stephenson  <pws@csr.com>

	* 12650: Completion/Builtins/_zmodload: don't lists aliases if
	there aren't any.

2000-08-15  Bart Schaefer  <schaefer@zsh.org>

	* 12652: Src/module.c: Fix variable scoping problem that caused
	crash in `zmodload -u'.

2000-08-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 12640: Completion/Builtins/_pids, Completion/Builtins/_zstyle,
 	Doc/Zsh/compsys.yo: call ps only once and be more intelligent when
 	finding the PIDs

	* 12635: Completion/Builtins/_pids: small improvement to allow
 	lists where the pid is not in the first column

2000-08-14  Bart Schaefer  <schaefer@zsh.org>

	* Andrej: 12623: configure.in, Src/mkmakemod.sh, Src/zsh.h:  Fix
	dynamic linking on cygwin, again.

	* 12621: Src/Zle/zle_main.c: Use ztrdup() on a string that will
	later be freed; this appears to have been a bug ever since 9839.

	* Andrej: 12620: configure.in, Src/system.h: Fix cache variable
	test for mmap, remove cygwin special-case.

	* 12617: configure.in: Use AC_FUNC_MMAP rather than just test for
	existence of mmap.

	* Andrej: 12614: Test/53completion.ztst, Test/54compmatch.ztst,
	Test/55arguments.ztst: Add %clean sections to unload zpty module.

	* Andrej: 12614: Completion/Builtins/_zmodload: Add DLL to suffix
	list, for benefit of cygwin.

2000-08-14  Sven Wischnowsky  <wischnow@zsh.org>

	* Andrej: 12613: Src/lex.c: missing mod_export

	* 12610: Src/Zle/computil.c: make all builtins in computil test if
 	they were called from a completion function

2000-08-13  Bart Schaefer  <schaefer@zsh.org>

	* 12604: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Remove calls to zpathmax(); fix some
	serious errors in zpathmax() but wrap it in #if 0 anyway; minor
	fixes to comments and coding style for zopenmax().

	* 12601: aczsh.m4, configure.in: configure --enable-cflags and the
	like, i.e., with no =... part, should preserve the environment
	values for CFLAGS etc. rather than erase them.

2000-08-11  Peter Stephenson  <pws@csr.com>

	* 12598: INSTALL, aczsh.m4, configure.in: --enable-cppflags=...,
	--enable-cflags=..., --enable-ldflags=..., --enable-libs=...

2000-08-11  Bart Schaefer  <schaefer@zsh.org>

	* 12596: INSTALL: Update for module aliasing changes.

2000-08-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 12592: Completion/Core/_parameters, Src/Zle/compcore.c,
 	Src/Zle/zle_tricky.c: fixes for completion in math contexts: don't
 	quote spaces and do normal parameter expansion completion after `$'

2000-08-11  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-5.

2000-08-10  Oliver Kiddle  <opk@zsh.org>

	* 12585: Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo,
	Doc/Zsh/mod_complist.yo, Doc/Zsh/mod_zutil.yo: minor doc fixes

	* 12583: Completion/Base/_math, Completion/Builtins/_arrays,
	Completion/Builtins/_vars, Completion/Builtins/_zpty,
	Completion/Commands/_bash_completions, Completion/Core/_parameters,
	Doc/Zsh/compsys.yo: add -g option to _parameters to restrict the
	type of parameters completed

2000-08-10  Peter Stephenson  <pws@csr.com>

	* 12582: Misc/Functions/is-at-least: make it accept name
	parts in the first argument (though I forgot to handle things
	like 3.1.6.random3 with no separator).

	* 12581: Doc/Zsh/options.yo, Src/options.c, Src/params.c,
	Src/zsh.h: Add C_BASES option to output hexadecimal as 0xFF
	instead of 16#FF, and similarly for octal if OCTAL_ZEROES is set.

2000-08-09  Oliver Kiddle  <opk@zsh.org>

	* 12578: Completion/Builtins/_read, Completion/Builtins/_vars,
	Completion/Builtins/.distfiles: new completion for read builtin

2000-08-08  Clint Adams  <schizo@debian.org>

	* 12568: configure.in, Src/compat.c, Src/exec.c, Src/init.c,
	Src/system.h: check sysconf(_SC_OPEN_MAX) if available instead
	of OPEN_MAX/NOFILES.

2000-08-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 12567: Completion/Linux/_rpm, Src/Zle/computil.c: handle the
 	right option in strings with multiple single-letter options (and
 	correctly handle its argument)

	* 12565: Completion/Core/_expand, Completion/Core/_path_files,
 	Doc/Zsh/mod_computil.yo, Src/Zle/computil.c: more fixes for
 	completion of special characters (quoting)

2000-08-08  Peter Stephenson  <pws@csr.com>

	* unposted: Src/xmods.conf, Src/Aliases/*: Remove Src/Aliases
	files and delete alias modules from xmods.conf (should now
	use `zmodload -A' to generate module aliases).

	* 12561: Completion/Builtins/_zmodload, Doc/Zsh/builtins.yo,
	Src/builtin.c, Src/module.c, Src/zsh.h: aliases for modules
	done internally via `zmodload -[AR]'.

2000-08-07  Peter Stephenson  <pws@csr.com>

	* 12555: Fix static linking on cygwin.

2000-08-07  Bart Schaefer  <schaefer@zsh.org>

	* users/3358: Zero shout when closing SHTTY in subshells.

2000-08-05  Bart Schaefer  <schaefer@zsh.org>

	* unposted (Wayne, 12549): Src/system.h: Missing paren.

2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12547, 12458: configure.in, Src/compat.c, Src/Modules/files.c:
	Handle ENOENT and ENOTDIR within zpathmax(), and therefore back
	out the changes from 12541 and 12533.

2000-08-04  Clint Adams  <schizo@debian.org>

	* 12541: configure.in, Src/compat.c: zrealpath wrapper around
	realpath().

	* 12533: Src/Modules/files.c: drop the tail of the path
	passed to mkdir in the call to pathconf().

2000-08-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12525: Src/module.c: remove (wrong) test for linked-in modules
 	in require_module()

2000-08-04  Bart Schaefer  <schaefer@zsh.org>

	* 12516: Src/compat.c, Src/system.h, Src/Modules/files.c,
	Src/Modules/parameter.c: Rewrite the pathconf() support using a
	wrapper function in compat.c to isolate the #ifdefs.

2000-08-03  Peter Stephenson  <pws@csr.com>

	* Andrej: 12501: Src/params.c: getenv etc. become zgetenv etc.
	and call getenv where necessary.

2000-08-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 12503: Completion/Commands/_bash_completions,
 	Completion/Commands/_complete_debug,
 	Completion/Commands/_complete_help,
 	Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word,
 	Completion/Commands/_history_complete_word,
 	Completion/Commands/_next_tags, Completion/Core/_expand,
 	Completion/Core/_main_complete, Completion/Core/_path_files,
 	Completion/Core/compdump, Src/glob.c, Src/Modules/parameter.c:
	try to get quoting of special character (`>' and `\') right; fix
 	for pathmax in parameter.c

	* 12497: Doc/Zsh/builtins.yo: small fix for `read -r' doc

	* 12496: Completion/Core/_path_files: one more problem with
 	quoting of glob characters in filename completion

	* 12494: Doc/Zsh/options.yo, Src/Zle/zle_main.c: make binding of
 	^D be used in first column if ignoreeof is set and ^D is bound to
 	a shell function widget

2000-08-02  Peter Stephenson  <pws@csr.com>

	* Andrej: 12487: configure.in, Etc/MACHINES, Src/Makefile.in,
	Src/init.c, Src/main.c, Src/makepro.awk, Src/mkmakemod.sh,
	Src/parse.c, Src/zsh.h, Src/Zle/zle_utils.c: Dynamic loading
	on cygwin.

2000-08-02  Clint Adams  <schizo@debian.org>

        * 12489: Src/Modules/files.c, Src/Modules/parameter.c: check
	errno change from pathconf() in case of unlimited path length.

        * 12472: configure.in, Src/Modules/files.c,
	Src/Modules/parameter.c: use pathconf() instead
	of PATH_MAX if possible.

2000-08-02  Adam Spiers  <adam@spiers.net>

	* 12486: Completion/Base/{.distfiles,_cache_invalid,_retrieve_cache,
	_store_cache}, Completion/Builtins/_zstyle, Completion/Linux/_rpm,
	Completion/User/_perl_modules, Doc/Zsh/compsys.yo: new completion
	caching layer

2000-08-02  Sven Wischnowsky  <wischnow@zsh.org>

	* 12483: Completion/Base/_arguments, Completion/Core/_complete,
 	Doc/Zsh/compsys.yo: if compcontext is an assoc, the keys are the
 	completions and the values are their descriptions

	* 12475: Completion/Base/_arguments: prefer user-defined specs
 	over ones derived from --help output

2000-08-01  Sven Wischnowsky  <wischnow@zsh.org>

	* Jan Fedak: 12463: Completion/User/_slrn: new completion function
	for slrn

	* 12462: Completion/Base/_arguments: fix for automatically
 	recognised options, don't expect an argument after each of them

	* 12453: Completion/Bsd/_bsd_pkg, Completion/Bsd/_kld,
 	Completion/Commands/_next_tags, Completion/User/_cvs,
 	Completion/User/_mailboxes, Completion/X/_xset,
 	Completion/X/_xwit, Src/exec.c: remove tests for kshautoload (use
 	zcompile -z); fix for setting scriptname for functions that
 	redefine themselves

	* 12449: Completion/Base/_arguments, Completion/Base/_values,
 	Completion/Core/_complete, Doc/Zsh/compsys.yo: make $compcontext
 	more powerful and easier to use for simple cases

2000-07-31  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 3.1.9-dev-4.

	* unposted: Completion/Core/.distfiles: add compaudit

2000-07-31  Sven Wischnowsky  <wischnow@zsh.org>

	* 12439: Src/hist.c: isalpha() -> ialpha(); avoid a compiler
 	warning

	* 12438: Doc/Zsh/compsys.yo: clarify manual for menu style;
 	select= and yes= may be given both a number and one of the long*
 	values at the same time

2000-07-30  Andrew Main <zefram@zsh.org>

	* 12436: Doc/Zsh/invoke.yo, Src/init.c: Make -b behave like
	the csh -b, permitting more options to be stacked after it and
	take effect.  Make -b take effect depending on SH_OPTION_LETTERS,
	consistent with all the other single-letter options, rather than
	having a clashing check of emulation type.

2000-07-30  Andrew Main <zefram@zsh.org>

	* 12434: Doc/Zsh/invoke.yo, Src/init.c, Src/options.c, Src/zsh.h,
	Src/zsh.mdd: Allow options to be specified on the zsh command line
	in the form of GNU-style long options.	Also handle --version
	and --help.  Do not permit extra option letters to be stacked
	after `-whatever-' (they used to be ignored).  Exit if the
	command line specifies an option name that doesn't exist.

2000-07-28  Bart Schaefer  <schaefer@zsh.org>

	* 12393: Src/jobs.c: The `wait' builtin searches the job table for
	any process ID it's asked to wait for, and rejects those it
	doesn't find.

2000-07-28  Peter Stephenson  <pws@csr.com>

	* 12421: Src/Makemod.in.in: extra tab

	* Andrej: 12419: Src/builtin.c, Src/params.c: use putenv() and
	getenv() if available and try to make minimal assumptions about
	environment handling.

	* Andrej: 12411: check for brk() and sbrk() and use sbrk() if no
	brk().

2000-07-27  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12415: Src/utils.c: fix bug in 12414 when quoting metafied field
	separator.

2000-07-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12414: Doc/Zsh/mod_zle.yo, Src/exec.c, Src/utils.c,
	Src/Zle/zle_main.c: vared quotes separators when editing arrays.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12408: Test/55arguments.ztst: fix completion test (55*) because
 	of 12394

	* 12405: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: fix a
 	bug that started menu selection too often; fix bug for `yes=long'
 	and documentit

2000-07-27  Bart Schaefer  <schaefer@zsh.org>

	* 12396: Functions/Misc/zed: The value of `$(functions $1)' for
	autoloadable functions has changed.

2000-07-27  Sven Wischnowsky  <wischnow@zsh.org>

	* 12400: Src/Zle/computil.c: compdescribe shouldn't use the sets
 	after failed initialisation

	* 12394: Completion/Core/_main_complete: don't hide possible
 	completions if there is only one and at the same time messages are
 	shown

2000-07-26  Adam Spiers  <adam@spiers.net>

	* unposted: Completion/User/_perl: -e, -I, -m and -M parameters
	can be specified multiple times

2000-07-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Andrej/pws: 12381: configure.in: cygwin on Windows 2000 is
	mysteriously returning status 0 even though the test fails, so
	create a file we can test to see if the test got that far.

2000-07-26  Bart Schaefer  <schaefer@zsh.org>

	* 12377: Completion/Core/compaudit, Completion/Core/compinit,
	Doc/Zsh/compsys.yo: Separate compinit security checks into their
	own callable function.

	* 12370: Functions/Misc/zed: Add a context for controlling
	completion within zed, and a style to enable tab insertion at the
	beginnings of lines in zed by default.

	* 12162: Completion/Core/_expand, Completion/Core/_path_files,
	Src/utils.c: Use `eval' instead of `$(print ...)' to suppress
	some syntax error failures; this requires that zwarn() does not
	trashzle() when the output is not going to the terminal.

2000-07-26  Sven Wischnowsky  <wischnow@zsh.org>

	* 12378: Completion/Base/_arguments: make `_arguments --' use
 	specs after the `--' even for options not described in the help
 	output to get arguments

	* users/3337: Completion/Base/_value: allow _value:<assoc> functions to
 	override completion for all keys of an assoc

2000-07-24  Oliver Kiddle  <opk@zsh.org>

	* 12356: Completion/User/_mh: use mhpath and mhparam instead of
	guessing the directory

2000-07-24  Sven Wischnowsky  <wischnow@zsh.org>

	* 12354: Completion/Core/_multi_parts: optimisations for
 	_multi_parts

2000-07-22  Clint Adams  <schizo@debian.org>

	* 12347: Completion/User/_mutt: options -a, -b, and -c are
	repeatable.

2000-07-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12337: Src/parse.c: fix parsing of `time' without a command

2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* unposted: tweaked a function name in hist.c for Sven.

2000-07-20  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12239: Fr. Br. George (George V Kouryachy), adapted:
	configure.in: prefer curses to termcap on solaris.

2000-07-20  Bart Schaefer  <schaefer@zsh.org>

	* 12326: Completion/User/_cvs: Discard stderr of a command subst.

2000-07-20  Wayne Davison  <wayned@users.sourceforge.net>

	* 12323: Src/hist.c: support "builtin" in HIST_NO_STORE check.

2000-07-19  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 12319: Completion/User/_perl_builtin_funcs: Get also /usr/share/man.

2000-07-19  Wayne Davison  <wayned@users.sourceforge.net>

	* 12318: Doc/Zsh/options.yo, Src/builtin.c, Src/exec.c, Src/hist.c,
	Src/init.c, Src/lex.c, Src/parse.c, Src/Zle/zle_main.c: Removed
	remhist() and the HA_JUNKED flag.  Now hend() is called with an
	Eprog pointer so that it can access the lexer's data for the
	current command.  Added shouldIgnoreLine() so that hend() can
	determine in advance if a command should be saved in the history.
	Added the aliasspaceflag variable to note when we expand an alias
	that starts with a space.

2000-07-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 12314: Src/Zle/compmatch.c: a bit of security for a VARARR()

2000-07-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12313: Doc/Zsh/metafaq.yo: bad phrasing corrected.

	* 12308: Completion/User/_man: Andrej and pws: cope with systems
	where manual pages just have bare .Z and no number; don't be
	too clever about suffix until we try to strip it.

2000-07-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 12297: Src/Zle/compcore.c: don't let duplicate matches keep us
 	from recognising exact matches if they produce the same string on
 	the line

2000-07-18  Wayne Davison  <wayned@users.sourceforge.net>

	* 12295: Src/builtin.c, Src/hist.c, Src/input.c, Src/lex.c: Fixed
	the history command to output correctly when the current command was
	already removed from the history.  Fixed remhist() to not remove
	the wrong line in the above scenario.  Got rid of "spaceflag".

2000-07-17  Tanaka Akira  <akr@zsh.org>

	* 12274: Test/53completion.ztst, Test/55arguments.ztst,
	Test/.distfiles: separates _arguments tests.

2000-07-17  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Config/version.mk: 3.1.9-dev-3.

2000-07-17  Sven Wischnowsky  <wischnow@zsh.org>

	* 12266: Src/Zle/computil.c: don't treat non-option arguments as
 	options

2000-07-17  Wayne Davison  <wayned@users.sourceforge.net>

	* 12265: Src/hist.c: Fixed gethistent().  Fixed a race condition
	in the SHARE_HISTORY code that could fail to import some shared
	history lines from other shells.

2000-07-16  Wayne Davison  <wayned@users.sourceforge.net>

	* 12260: Src/hist.c: Added unmeta() calls.  Fixed lockhistfile().

2000-07-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12247: Src/init.c, Src/params.c, Src/prompt.c: remove hostnam
	internal variable and use $HOST wherever hostname is needed.

	* 12242: Fr. Br. George (George V Kouryachy) and pws:
	Doc/Zsh/prompt.yo, Src/prompt.c: negative integers in prompt
	escapes count from the other end of the appropriate string.

2000-07-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 12243: Src/hist.c: try to get (z) parameter flag parsing for
 	conditions right

	* 12241: Completion/Core/_main_complete, Src/Zle/computil.c: fix
 	for _arguments with single-letter options: recognize
 	option-strings with multiple options; in _main_complete stop
 	trying completers when one called _message, don't display warnings
 	in such cases

	* 12238: Src/Zle/zle_thingy.c: fix zle widget -n num with num>9

	* 12237: Src/hist.c, Src/lex.c: slightly improved (z) flag for
 	parsing conditions; recognising glob flags in conditions still
 	doesn't work

2000-07-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12231: Completion/Core/compinstall: fix setting of list-prompt.

2000-07-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12229: Doc/Zsh/compsys.yo: fix for list-prompt docs

	* 12228: Src/hist.c, Src/lex.c: fix for (z) flag, don't take # as
 	comment

2000-07-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12227: Completion/Core/compinstall: add select-prompt handling
	and correct menu entry and missing local parameters.

2000-07-12  Sven Wischnowsky  <wischnow@zsh.org>

	* 12226: Completion/Core/_main_complete: don't start menu
 	selection with only select=long

	* 12225: Completion/Linux/_rpm: check if options were completed

2000-07-11  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12222: Src/exec.c: ignore EINTR in helper processe for
	tee and cat with multios.  It might be considered unfortunate
	that the shell is liable to exit on SIGPIPE if these disappear
	early.

	* 12220: Src/exec.c: print error message for unfound autoload
	function body at lower locallevel.

2000-07-10  Bart Schaefer  <schaefer@zsh.org>

	* unposted: Completion/User/_killall: Complete process IDs and
	names for all processes when EUID is 0 (root); suggested by
	Thomas Kohler in 12202 and followups.

2000-07-10  Sven Wischnowsky  <wischnow@zsh.org>

	* 12208: Completion/Core/_path_files: avoid insertion of `+'
 	before ~1/<TAB>; don't use undeclared local $tmp

2000-07-08  Tanaka Akira  <akr@zsh.org>

	* 12201: Completion/User/_java: fix completion for jar. complete
	package qualified class names. fix typos.

2000-07-07  Bart Schaefer  <schaefer@zsh.org>

	* 12193: configure.in, Src/Builtins/rlimits.mdd: Fix unnecessary
	rebuilds of rlimits.o on platforms where getrlimit() is not found.

2000-07-06  Oliver Kiddle  <opk@zsh.org>

	* 12181: Completion/AIX/_lscfg, Completion/AIX/_object_classes,
	Completion/AIX/_physical_volumes, Completion/AIX/_smit,
	Completion/AIX/_volume_groups, Completion/User/_printers: updates
	and additions to completions for AIX commands

2000-07-05  Oliver Kiddle  <opk@zsh.org>

	* 12177: Doc/Zsh/compsys.yo, Completion/Builtins/_unhash,
	Doc/Zsh/compwid.yo, Doc/Zsh/expn.yo, Doc/Zsh/mod_zutil.yo: add more
	standard tags to docs and fix typos

2000-07-05  Sven Wischnowsky  <wischnow@zsh.org>

	* 12171: Completion/User/_arp: get return status right

2000-07-05  Bart Schaefer  <schaefer@zsh.org>

	* 12167: Test/Makefile.in: Ignore failure exit from "for" loop
	so that cleanup code following it will be executed.

2000-07-04  Oliver Kiddle  <opk@zsh.org>

	* 12165: Completion/User/_arp: new completion for arp

2000-07-04  Bart Schaefer  <schaefer@zsh.org>

	* 12160: Completion/Core/compdump: Return failure early if the
	dot-file directory is not writable.

2000-07-04  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/params.c, Src/Zle/compcore.c, Src/Zle/zle_utils.c:
	AIX dependency fixes

2000-07-04  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12158: Src/Modules/parameter.c: cast pid_t to int for printing.

2000-07-04  Sven Wischnowsky  <wischnow@zsh.org>

	* 12156: Completion/Core/_expand, Completion/Core/_path_files: add
 	some $(print...)s because of possible math-parse errors

2000-07-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12149: acconfig.h, configure.in, Src/Modules/zftp.c:
	h_errno wasn't found on HPUX 10.20.  Maybe in some library.

2000-07-03  Adam Spiers  <adam@spiers.net>

	* 12152: Completion/User/_perl: tweak completion of Perl script
	parameters to perl.

2000-07-03  Bart Schaefer  <schaefer@zsh.org>

	* 12151: Test/Makefile.in, Test/comptest: Point ZDOTDIR into the
	Test directory itself, and clean up .zcompdump after testing.

	* 12148: Completion/Core/_path_files: Followup to 12133 as
	suggested by Sven in 12137: Don't merge display-ordering glob
	flags into the parens in $(...) expressions.

2000-07-03  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12146: Doc/Makefile.in: reintroduce mysteriously disappeared
	code do install info files in directory.

	* 12140: Completion/Core/compinit, Completion/Core/compinstall,
	Doc/Zsh/compsys.yo: compinstall calls compinit after styles
	are defined; compinit checks for _expand completer and if
	necessary rebinds ^i to complete-word.

	* Config/version.mk: 3.1.9-dev-2.

	* 12138: Src/params.c, Test/06arith.ztst: setting of array
	elements in math context didn't work (ever).

	* 12121: Src/utils.c, Doc/Zsh/options.yo: save and restore stopmsg
	for precmd, fix #ifdef's for variable declaration in read_poll().

2000-07-03  Sven Wischnowsky  <wischnow@zsh.org>

	* 12134: Completion/Core/_main_complete, Doc/Zsh/compsys.yo,
 	Doc/Zsh/mod_complist.yo, Src/Zle/comp.h, Src/Zle/compcore.c,
 	Src/Zle/complist.c: change format style with warnings tag, don't
 	add descriptions as matches; make a-a-i-n-h in menu selection work
 	even without matches

2000-07-02  Bart Schaefer  <schaefer@zsh.org>

	* 12133: Completion/Core/_expand, Completion/Core/_path_files:
	Discard error output from parameter expansions and use "eval" to
	protect the completion system from parse errors and other garbage
	in the strings taken from the command line.

2000-06-29  Sven Wischnowsky  <wischnow@zsh.org>

	* 12125: Src/parse.c, Test/09funcdef.ztst: fix for `foo () print
 	bar' (function definitions without braces)

	* 12122: Completion/Core/_main_complete: reverse meaning of yes=num
 	again

	* 12119: Completion/Core/_complete, Completion/Core/_normal: try
 	to return the right value

	* 12118: Completion/Core/_expand: don't expand partially typed
 	parameter expansions

	* 12115: Completion/Core/_expand, Doc/Zsh/compsys.yo: change
 	suffix style to still do expansion if the suffix contains
 	something to expand

	* 12114: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: even
 	more fun with the menu style (no=num, yes=long-list, reverse
 	meaning of yes=num)

	* 12113: Completion/Core/_expand, Src/Zle/zle_tricky.c: quote
 	brace-strings

2000-06-28  Bart Schaefer  <schaefer@zsh.org>

	* 12112: Src/params.c: Don't make namedirs out of hash elements.

2000-06-28  Sven Wischnowsky  <wischnow@zsh.org>

	* 12109: Completion/Core/_complete: make _complete return the
 	right value

	* 12107: Completion/Core/_setup, Src/Zle/complist.c: fix for
 	list-colors handling

	* 12105: Completion/Core/_main_complete: reset _comp_mesg (saying
 	whether there were messages) appropriately

	* Jan Fedak: 12097: Completion/User/_ssh: use _ports when
	completing remote ports

	* Andrej: 12094: Doc/Zsh/compsys.yo: a bit of cleanup

	* 12099: Completion/Core/_oldlist: make _oldlist not use the dummy
 	match added for the warning

	* 12093: Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/compresult.c:
 	make a-a-i-n-h in menu selection work with one match; better undo
 	behaviour for menu selection

2000-06-27  Bart Schaefer  <schaefer@zsh.org>

	* 12086: Doc/Zsh/compsys.yo: Move _use_lo doc into alphabetical
	order; separate _files and _path_files for same reason.

2000-06-27  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3219: Completion/Core/_main_complete, Doc/Zsh/compsys.yo:
	menu style accepts yes=x to start menu completion if there are at
	least x matches

	* Andrej: 12084: Src/Modules/zpty.c: don't close slave if not yet open

	* 12082: Doc/Zsh/compsys.yo: document _use_lo

2000-06-27  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Andrej: 12081: Src/Modules/zpty.c: compiles under Cygwin, but
	still glitches.

2000-06-26  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* unposted: Src/builtin.c, Src/utils.c: move read_poll to utils.c
	as suggested by Bart.

2000-06-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12076: Completion/Core/compinstall: overwrote file if no
	style information; overwrote symbolic link instead of following;
	didn't check file name for sanity.

2000-06-26  Bart Schaefer  <schaefer@zsh.org>

	* 12074: Doc/Zsh/builtins.yo, Doc/Zsh/manual.yo: Remove one more
	reference to compfmt; add missing menu items to node listing.

2000-06-26  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12073: Src/builtin.c, Src/utils.c, Doc/Zsh/builtins.yo: first
	pass at `read -t' which tests for availability of input before
	inputting.

2000-06-26  Sven Wischnowsky  <wischnow@zsh.org>

	* users/3208: Completion/User/_use_lo: default completion even if
	there are options

	* 12070: Completion/Core/_ignored: fix for completer lookup in
 	_ignored

	* 12068: Doc/Zsh/mod_computil.yo, Src/Zle/computil.c: remove
 	compfmt; a bit of explanation for compfiles and compgroups

	* 12067: Completion/Core/_history, Src/Zle/zle_tricky.c: typo in
 	_history; missing free()s in zle_tricky.c

	* 12066: Src/Zle/computil.c: missing allocation of list for option
 	arguments

2000-06-25  Bart Schaefer  <schaefer@zsh.org>

	* 12063: Doc/Zsh/builtins.yo, Doc/Zsh/compwid.yo,
	Doc/Zsh/mod_computil.yo, Doc/Zsh/mod_zutil.yo: Fix typos; assorted
	clarification and reformatting.

2000-06-23  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12044: Src/builtin.c:  read -A assigned an unnecessary null
	if there was trailing whitespace; careful of distinction between
	whitespace and non-whitespace field separators.

2000-06-23  Sven Wischnowsky  <wischnow@zsh.org>

	* 12041,12043 : Completion/Core/compinit: even more compinit stuff,
 	change prompt, search for insecure parent dirs

2000-06-22  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 12040: Src/builtin.c: typeset -r on existing parameter set
	the readonly flag before assigning any value on the same command
	line.

2000-06-22  Bart Schaefer  <schaefer@zsh.org>

	* 12039: Test/comptest: Use "compinit -u" to avoid a possible
	prompt about security of the directories; point ZDOTDIR into
	the temporary test directory for the .zcompdump file.

2000-06-22  Sven Wischnowsky  <wischnow@zsh.org>

	* 12033: Completion/Core/compinit: followup to compinit-security
 	patch

	* 12029: Completion/Builtins/_arrays, Completion/Builtins/_zstyle,
 	Completion/Commands/_bash_completions,
 	Completion/Commands/_history_complete_word,
 	Completion/Core/_history, Completion/Core/_main_complete,
 	Completion/Core/_parameters, Completion/Core/_setup,
 	Completion/Core/_tags, Completion/Debian/_apt,
 	Completion/X/_x_extension, Doc/Zsh/compsys.yo, Doc/Zsh/compwid.yo,
 	Src/zsh.h, Src/Zle/compcore.c, Src/Zle/compctl.c,
 	Src/Zle/complist.c, Src/Zle/computil.c: allow subscripts for
 	compadd -[ak]; new style for history completion; better
 	list-colors handling

2000-06-22  Clint Adams  <schizo@debian.org>

	* 12027: Completion/User/_mailboxes: fix splitting problem in
	12024, add intelligence for mutt mailboxes in $maildirectory
	not specified in muttrc.

	* 12024: Completion/User/_mailboxes: handle multiple mailboxes
	lines in muttrc.

2000-06-21  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 12019: Completion/User/_ssh: upgrade to the last openssh
	options.

2000-06-21  Sven Wischnowsky  <wischnow@zsh.org>

	* 12011: Completion/Commands/_history_complete_word,
 	Completion/Core/_expand, Completion/Core/_history: make history
 	completion use I{PREF,SUF}FIX

2000-06-20  Oliver Kiddle  <opk@zsh.org>

	* unposted: Src/exec.c: AIX dependency fix

2000-06-20  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 12000: Functions/Misc/zmv: emulate zsh doesn't unset MARKDIRS,
	so use emulate -R.

2000-06-20  Sven Wischnowsky  <wischnow@zsh.org>

	* 11998: Completion/Builtins/_pids, Completion/Core/compdump,
 	Completion/Core/compinit, Doc/Zsh/compsys.yo: a bit of security
 	for compinit (avoid using things writable by others); avoid
 	handling files with the same name twice; remove compconf

2000-06-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11992: Src/Zle/complist.c: make undo break out of menu selection
 	if nothing to undo inside it

	* 11985: Completion/Debian/_dpkg, Doc/Zsh/compsys.yo,
	Src/Zle/computil.c: _arguments: small fix for -s and new `!...' for
	things not to complete (but to understand)

	* 11982: Test/comptest: update comptest to not set ZLS_COLORS
 	directly

	* 11981: Src/Zle/computil.c: more careful when optimising patterns
 	in compfiles

	* 11977: Completion/Core/_options, Completion/Core/_set_options,
 	Completion/Core/_unset_options, Doc/Zsh/compwid.yo,
 	Src/Zle/comp.h, Src/Zle/complete.c, Src/Zle/compmatch.c,
 	Test/54compmatch.ztst: new match spec characters bBeE, match only
 	word/line not both

	* 11973: Completion/Builtins/_zstyle, Completion/Core/_description,
 	Completion/Core/_expand, Doc/Zsh/compsys.yo, Src/Zle/zle_tricky.c:
 	allow _expand to expand braces; better detection of braces to
 	complete instead of passing to shell code

2000-06-19  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* unpost: additions to Completion/Commands/.distfiles and
	.distfiles.

	* users/3189: Functions/Misc/zmv:  use depth-first ordering with
	**/; ignore files whose names are unchanged by the substitution.

2000-06-19  Sven Wischnowsky  <wischnow@zsh.org>

	* 11971: Completion/Core/_path_files, Doc/Zsh/compsys.yo,
 	Src/Zle/compcore.c, Src/Zle/computil.c: improve filename
 	completion; use accept-exact for in-path completion; new fake style

	* users/3188: Completion/Core/_description, Completion/Core/_setup,
 	Doc/Zsh/compsys.yo: restore ZLS_COLORS when possible; better
 	group-name handling in ZLS_COLORS

2000-06-17  Clint Adams  <schizo@debian.org>

	* 11966: Completion/Core/_main_complete: use double brackets
	around comparison to prevent 'command not found: no' error.

2000-06-17  Bart Schaefer  <schaefer@zsh.org>

	* 11961: Src/subst.c: 11959 was really a bug in magicequalsubst,
	it shouldn't have treated x:=y as a reason to expand =y.

2000-06-17  Tanaka Akira  <akr@zsh.org>

	* 11959: Completion/User/_urls: make it magicequalsubst aware.

	* 11958: Completion/User/_java: new completion for Java.

2000-06-17  Bart Schaefer  <schaefer@zsh.org>

	* 11956: Src/loop.c: Fix off-by-one error in wordcode pc executing
	case statement fall-through.

	* unposted: Test/01grammar.ztst: Add a test for 11956.

2000-06-16  Clint Adams  <schizo@debian.org>

	* 11951: Completion/Debian/_dpkg: replaced _arguments -A
	for install and record-avail  with an evaluation kludge.

2000-06-16  Sven Wischnowsky  <wischnow@zsh.org>

	* 11939: Src/Zle/compmatch.c, Src/Zle/compresult.c,
	Src/Zle/zle_tricky.c: allow completion after `a{{b,c},'; fix for
	closing brace re-insertion when completing from both ends
	(CLF_MID)

	* 11938: Completion/Core/_description, Doc/Zsh/compsys.yo: enhance
 	ignore-line to ignore all/current/other word(s)

	* 11937: Completion/Core/_expand, Completion/Core/_list,
 	Doc/Zsh/compsys.yo, Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c:
 	zstyle -e option; change math-styles to boolean ones; change
 	defaults for _expand styles

2000-06-15  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* Felix: 11908: Test/54compmatch.ztst: tests for problematic
	cases.

	* as 11916: moved bottom of ChangeLog to ChangeLog-Release to
	avoid unnecessary network activity when committing.  To be
	merged into ChangeLog.4.0 for next release.

2000-06-15  Sven Wischnowsky  <wischnow@zsh.org>

	* 11924: Src/Zle/compmatch.c: more security in completion matching

	* 11915: Completion/Core/_files, Doc/Zsh/compsys.yo: make _files
 	try each pattern only once (and stop after `*')

	* 11910: Src/Zle/computil.c: fix for _arguments, it took
 	non-option strings as options

2000-06-14  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 11906: Src/signals.c: yet another two bugs with saving traps:
	flags were prematurely restored when resetting and TRAPEXIT
	was sometimes saved incorrectly when exitting the scope.

2000-06-14  Oliver Kiddle  <opk@zsh.org>

	* 11903: Completion/Core/_expand: handle suffix style for arrays

2000-06-14  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11902: Test/08traps.ztst: add test for localtraps with SIGWINCH.

	* 11901: Src/signals.c: not one but two more bugs in trap
	saving: sigfuncs wasn't reset for function signals, and dosavetrap()
	didn't check sigtrapped before assuming sigfuncs was valid.

	* 11895: Src/signals.c: exit traps weren't cleared from the
	list properly, resulting in memory management problems.

2000-06-14  Sven Wischnowsky  <wischnow@zsh.org>

	* 11885: Src/parse.c: nix kaboom with `time time'

	* 11890: Src/Zle/complist.c: better fix for menu selection on dumb
	terminal

2000-06-13  Clint Adams  <schizo@debian.org>

	* 11882: Completion/Debian/_dpkg: more intelligence in
	dpkg completion.

2000-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 11876: Doc/Zsh/compsys.yo, Src/Zle/computil.c: make -A take a
	pattern as argument to match non-arguments; allow single-letter
	option strings to have multiple arguments; fix to allow option
	completion with multiple sets

	* 11872 Completion/Commands/_generic, Doc/Zsh/compsys.yo: new
	_generic widget to call completion with $WIDGET in function field
	of context

	* 11873: Completion/Core/_main_complete, Doc/Zsh/compsys.yo: allow
	insert-tab style to contain `pending[=num]' to handle the case
	when there is pending input

	* 11874: Completion/Core/_expand, Doc/Zsh/compsys.yo: new style
	`suffix', use accept-exact style in _expand

	* 11875: Src/Zle/complist.c: fix for longer capability strings;
	very bad

2000-06-13  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11877: Src/zsh.h: make PRINT_ flags unique again.

2000-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 11870: Completion/Core/_path_files, Src/Zle/complete.c,
 	Src/Zle/compmatch.c, Src/Zle/computil.c: fixes for calling
	compfiles, for completing words with special characters; make
	compfiles optimisations work with globcomplete and simple match
	specs

2000-06-12  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11867: Src/builtin.c, Src/params.c, Src/zsh.h,
	Doc/Zsh/builtins.yo: don't use -H flag for parameters mentioned
	explicitly or by pattern.

2000-06-11  Bart Schaefer  <schaefer@zsh.org>

	* 11866: Functions/Misc/colors, Functions/Prompts/promptinit:  Set
	up color/colour assoc arrays to map the full range of ANSI text
	properties; preserve more state during themed prompt previewing.

	* Alexandre: unposted: Src/Zle/complist.c: Shift an array the
	opposite way to fix colored listings crash.

2000-06-11  Tanaka Akira  <akr@zsh.org>

	* 11861: Completion/User/_cvs: fix -a use for compadd.

2000-06-10  Bart Schaefer  <schaefer@zsh.org>

	* 11850: Src/Zle/complist.c: Don't try to menuselect in a listing
	that isn't there, e.g., because the TERM is too dumb to draw it.

2000-06-09  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11842 (repeat of 11838): Doc/Zsh/builtins.yo, Src/builtin.c,
	Src/params.c, Src/subst.c, Src/zsh.h, Src/Modules/mapfile.c,
	Src/Modules/parameter.c: add the HIDEVAL parameter attribute and
	set it by default for parameters created by the mapfile and
	parameter modules, to restore sanity of `typeset' output.

2000-06-09  Clint Adams  <schizo@debian.org>

	* 11839: Src/signals.c: prevent segmentation fault in
	endtrapscope() by not dereferencing null pointers.

2000-06-09  Sven Wischnowsky  <wischnow@zsh.org>

	* 11836: Src/Zle/compcore.c, Src/Zle/complist.c: fix for
 	menu-completion when another completion came right after it

	* 11833: Completion/Core/_path_files, Src/Zle/computil.c: improve
 	_path_files, move some code into C, try to optimise glob patterns
 	and immediately accept exact directory matches

2000-06-08  Oliver Kiddle  <opk@zsh.org>

	* 11823: Doc/Makefile.in, Completion/User/_urls: avoid bug in
	IRIX's sed and use new -K option to zparseopts in _urls

2000-06-08  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* pws: 11820: Src/main.c: metafication of command line arguments
	didn't work because type table wasn't set up.

2000-06-08  Sven Wischnowsky  <wischnow@zsh.org>

	* 11817: Src/Zle/compmatch.c: more anchor matching fixes

	* 11815: Completion/Core/_expand, Doc/Zsh/compsys.yo: trying to
 	improve _expand; new keep-prefix style, add-space gives more control

	* 11814: Src/Zle/zle_tricky.c: make C-code expansion add a space
 	only when more than one word was generated

2000-06-08  Tanaka Akira  <akr@zsh.org>

	* users/3130: Completion/Debian/_apt: fix actions for _alternative.

2000-06-07  Sven Wischnowsky  <wischnow@zsh.org>

	* 11796: Src/Zle/compmatch.c: try to get the tests for `strings
 	long enough' right in anchor matching code

2000-06-07  Peter Stephenson  <pws@cambridgesiliconradio.com>

	* 11711: Andrej Borsenkow: Test/ztst.zsh: Ignore diff output
	unless the test failed, to work around some diffs which produce
	success messages.

2000-06-07  Sven Wischnowsky  <wischnow@zsh.org>

	* user/3124: Completion/Core/_normal, Src/Zle/compctl.c: optimise
 	command lookup in old and new completion

	* 11794: Src/Zle/compcore.c, Src/Zle/complist.c, Src/Zle/zle_tricky.c:
 	hopefully more consistent beeping with menu-selection

	* 11792: Doc/Zsh/mod_zutil.yo, Src/Modules/zutil.c: -K option for
 	zparseopts to keep previous array values

	* 11789: Completion/Commands/_correct_word,
 	Completion/Commands/_expand_word, Completion/Commands/_next_tags:
 	setup options in bindable commands

2000-06-06  Oliver Kiddle  <opk@zsh.org>

	* 11772: Completion/User/_urls: improvements to 11756 suggested by
	Bart in 11763

2000-06-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 11777: Completion/Core/_expand: make _expand ignore empty
 	expansions

	* 11776: Completion/Core/_path_files: fix for _path_files and
 	globcomplete, better test if word contains wildcards

	* 11768: Doc/Zsh/expn.yo, Src/lex.c, Src/subst.c: make (e) flag be
 	silent unless (X) is given, too

2000-06-05  Oliver Kiddle  <opk@zsh.org>

	* 11756: Completion/User/_urls, Completion/Linux/_rpm: accept -g
	option in _urls and use _urls in _rpm

	* 11755: test/comptest: fix wording in error messages
