2001-06-19  Bart Schaefer  <schaefer@zsh.org>

	* 14976: aczsh.m4: Add socklen_t to possible SOCKLEN_T types.

2001-06-19  Andrej Borsenkow  <bor@zsh.org>

	* 14973: acconfig.h, aczsh.m4, zshconfig.ac, Src/Modules/zftp.c:
	fix for reported problems on AIX 4.x. Still no feedback if it
	finally works (or even compiles)

2001-06-18  Bart Schaefer  <schaefer@zsh.org>

	* 14965: Src/Zle/computil.c: Silence compiler warnings.

2001-06-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 14962: Completion/Unix/Type/_path_files: make special-dirs
	work together with file-sort (ignore added qualifiers in a
	test)

2001-06-18  Peter Stephenson  <pws@csr.com>

	* 14959: Src/signals.c: more renames for 14951.

2001-06-18  Sven Wischnowsky  <wischnow@zsh.org>

	* 14952: Src/parse.c: make zcompile unlink() the zwc file first
	(in case it is currently mapped we don't want to overwrite it);
	also, create the file read-only

	* 14951: Src/signals.c, Src/signals.h: rename handler() to
	zhandler() because it's now exported to modules

2001-06-17  Bart Schaefer  <schaefer@zsh.org>

	* Jason Began: 3931 (see cvs.netbsd.org): zshconfig.ac: Use
	-fPIC for gcc dynamic linking rather than -fpic.

2001-06-16  Wayne Davison  <wayned@users.sourceforge.net>

	* unposted: Src/utils.c: Revert the mkstemp() change since it was not
	right.  Left zshconfig.ac alone in case someone wants to create a more
	elaborate mkstemp() change.

2001-06-16  Peter Stephenson  <pws@pwstephenson.fsnet.co.uk>

	* 14939: zshconfig.ac, Src/utils.c: Some systems with GNU-based
	utilities scream at you for using mktemp() instead of mkstemp().

2001-06-15  Peter Stephenson  <pws@csr.com>

	* 14929: Src/params.c: after 14915, assigning to individual
	positional parameters failed.

2001-06-15  Andrej Borsenkow  <bor@zsh.org>

	* 14931: Src/Modules/tcp.c, Src/Modules/zftp.c: fix length
	calculation in tcp_connect and zftp_open

2001-06-14  Peter Stephenson  <pws@csr.com>

	* 14921: Functions/Zftp/zfinit, Completion/Zsh/Command/_zftp:
	Load tcp module for zftp; autoload zfget_match and zfcd_match
	for _zftp.

	* 14915: Doc/Zsh/builtins.yo, Doc/Zsh/params.yo, Src/builtin.c,
	Src/params.c: special parameters can't have readonly turned off;
	$* and $@ are readonly.

2001-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 14903: Src/Zle/complist.c, Src/Zle/zle_tricky.c: fixes for
	display bugs for completion lists (cursor left one line to far
	up or down)

2001-06-13  Peter Stephenson  <pws@csr.com>

	* 14893: Src/signals.c: make handler mod_export because it's
	needed for signal queueing in various modules.  Probably
	sensible to change handler to zhandler too --- not done yet.

2001-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 14897 (and Oliver Kiddle: 14862): Completion/Base/Utility/_values,
	Completion/Unix/Command/_mount, Completion/Unix/Type/_dir_list,
	Src/Zle/computil.c: fix for comparguments (completing after
	single letter options that get their argument in the next
	word); make _values ignore some of the standard option it may
	get; make _mount use _dir_list in some places and improve that;
	`document' comparguments and compvalues with some comments in
	computil.c

2001-06-13  Oliver Kiddle  <opk@zsh.org>

	* 14896: Completion/Zsh/Type/_command_names: don't complete read-only
	parameters on the left side of an assignment

2001-06-13  Peter Stephenson  <pws@csr.com>

	* unposted: Completion/compinstall: spotted by Bart: assignments
	when finding $fpath if not set in current shell were completely
	garbled.

2001-06-13  Sven Wischnowsky  <wischnow@zsh.org>

	* 14883 (Jos Backus): Completion/Unix/Command/_mount: add code for
	BSDish systems

2001-06-12  Clint Adams  <clint@zsh.org>

	* 14863: Src/Modules/tcp.c, Src/Modules/zftp.c:
	introduce tcp_connect.

2001-06-12  Peter Stephenson  <pws@csr.com>

	* 14858: Doc/Zsh/options.yo, Src/options.c, Src/subst.c,
	Src/zsh.h, Test/E01options.ztst: KSH_TYPESET option allows
	assignments after typeset not to be split.

2001-06-12  Bart Schaefer  <schaefer@zsh.org>

	* 14849: README: Request "reporter" output only if a bug cannot
	be reproduced with 'zsh -f'.

2001-06-11  Clint Adams  <clint@zsh.org>

	* 14843: Src/Modules/tcp.c, Src/Modules/zftp.c:
	introduce tcp_close and use it to close control fd.

2001-06-11  Sven Wischnowsky  <wischnow@zsh.org>

	* 14841: Completion/Base/Utility/_values, Src/Zle/computil.c:
	new word parsing for compvalues; this should now handle empty
	separators correctly, as far as it is possible

2001-06-11  Peter Stephenson  <pws@csr.com>

	* 14840: Doc/Zsh/options.yo: document search behaviour with
	PATH_DIRS option.

2001-06-10  Clint Adams  <clint@zsh.org>

	* 14830: config.guess, config.sub:
	upgrade to GNU's June 5 and 8 versions,
	respectively.

2001-06-09  Bart Schaefer  <schaefer@zsh.org>

	* unposted (see 14826): Test/C02cond.ztst: Force group of new
	directory created for file-mode tests to be owned by the current
	effective group.

	* 14827: Src/parse.c, Src/utils.c: Move zwcstat() to parse.c
	where it can be wrapped in #ifdef USE_MMAP.

	* 14824: Test/comptest: Avoid echotc (improvement on 14792).

2001-06-08  Clint Adams  <clint@zsh.org>

	* 14815: Src/utils.c: actually check the filename of
	the dump.

	* 14813: zshconfig.ac, Src/parse.c, Src/utils.c, Src/zsh.h:
	try to autoload functions from digest files that are deleted
	but still open.

2001-06-08  Bart Schaefer  <schaefer@zsh.org>

	* 14796: zshconfig.ac: More reliable BROKEN_KILL_ESRCH test.

2001-06-07  Bart Schaefer  <schaefer@zsh.org>

	* 14792: Test/comptest: Don't import the current terminal type for
	the zpty terminal, because the current terminal might not be able
	to run ZLE (e.g., emacs shell mode).

	* 14792: Src/Modules/tcp.h, Src/Modules/zftp.c: Shuffle around
	several #include directives to get the sockaddr_in definition in
	all the places it's needed.

	* 14712: Doc/Zsh/builtins.yo: Improve appearance of long hanging
	paragraph tag for the "read" builtin.

	* 14578: Src/Modules/termcap.c: Handle vagaries of tgetflag()
	return value in new function ztgetflag().

2001-06-07  Wayne Davison  <wayned@users.sourceforge.net>

	* 14793: Src/hist.c: Don't mark a HIST_TMPSTORE entry with HIST_OLD
	so that the HFILE_FAST algorithm in savehistfile() will recheck this
	histnum later.

2001-06-06  Clint Adams  <clint@zsh.org>

	* unposted: Src/Modules/.distfiles: add
	tcp.* files.

	* 14778: Src/Modules/tcp.mdd, Src/Modules/zftp.mdd:
	rename zsh/tcp to zsh/net/tcp.

	* 14770: Src/Modules/tcp.c, Src/Modules/tcp.h,
	Src/Modules/tcp.mdd, Src/Modules/zftp.c,
	Src/Modules/zftp.mdd: move some functionality
	from zftp to independent tcp module.

2001-06-06  Andrej Borsenkow  <bor@zsh.org>

	* 14772: David Lebel <lebel@lebel.org>: zshconfig.ac: patch
	for dynamic linking on OpenBSD

	* unposted: Etc/zsh-development-guide: we now support autoconf-2.50

	* 14766: Src/prompt.c: uniform %l substitution

	* 14760: zshconfig.ac: use old-style AC_INIT without version

	* 14758: zshconfig.ac: no more ac_cv_cygwin in autoconf-2.50;
	use host_os instead

	* unposted; based on 14679 (me) and 14693 (Bart): configure.ac,
	zshconfig.ac, .distfiles, Makefile.in, configure.in, Src/mkmakemod.sh:
	Allow processing by both autoconf-2.13 and autoconf-2.50; remove
	config.status hack for autoconf-2.50

2001-06-06  Sven Wischnowsky  <wischnow@zsh.org>

	* 14736: Doc/Zsh/compsys.yo: make docs for _wanted and
	_requested clearer (command has to allow options passed to it)

	* 14733: Completion/Base/Utility/_arguments: two fixes: try all
	actions that have to be tried (but only once), execute actions
	if we aren't after an option already (in the same word)

2001-06-05  Chmouel Boudjnah  <chmouel@mandrakesoft.com>

	* 14550: Completion/Redhat/Command/_rpm: Add --nobuild and --nogpg
	to rpm completion

2001-06-04  Peter Stephenson  <pws@csr.com>

	* Relabelled this version 4.1.0-dev-0.

2001-06-01  Peter Stephenson  <pws@csr.com>

	* Config/version.mk: 4.0.1 released, finally.

