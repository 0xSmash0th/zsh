#autoload

if [[ -n "$compconfig[_cvs_disable_stat]" ]] ||
  ! { zmodload -e stat || zmodload stat }; then
  _cvs_extract_file_entries
  return
fi

local ents pats
ents=(${${${${(M)rawentries:#/*}#/}/\\/[^\\/]#\\///}%/[^/]#/[^/]#})
pats=(${${${(f)"$(LANG=C builtin stat -gn +mtime -F '%a %b %e %T %Y' ${pref}*(D))"}##*/}/ //})
eval 'ents=(${ents:#('${(j:|:)${(@)pats:q}}')})'
entries=($entries ${ents%%/*})
