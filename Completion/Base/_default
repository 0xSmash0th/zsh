#compdef -default-

# You can first try the `compctl's by uncommenting the `compcall' line
# below.
# This is without first (-T) and default (-D) completion. If you want
# them add `-T' and/or `-D' to this command. If there is a `compctl'
# for the command we are working on, we return immediatly. If you want
# to use new style completion anyway, remove the `|| return'. Also,
# you may want to use new style completion if the `compctl' didn't
# produce any matches. In that case remove the `|| return' and insert
# the line `[[ compstate[nmatches] -eq 0 ]] || return' after `compcall'.

# compcall || return 0

_tags files || return 1

_files && return 0

# magicequalsubst allows arguments like <any-old-stuff>=~/foo to do
# file name expansion after the =.  In that case, it's natural to
# allow completion to handle file names after any equals sign.

[[ -o magicequalsubst ]] && compset -P 1 '*=' && _files
