#compdef man

setopt localoptions rcexpandparam

local rep expl

if [[ $words[2] = (<->*|ln) ]]; then
  rep=( $manpath/(man|cat)${words[2]}/$PREFIX*$SUFFIX.<->*(N:t:r) )
else
  rep=( $manpath/(man|cat)*/$PREFIX*$SUFFIX.<->*(N:t:r) )
fi

_description expl 'manual page'
(( $#rep )) && compadd "$expl[@]" - $rep
