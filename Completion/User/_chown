#compdef chown chgrp

if [[ CURRENT -eq 2 || CURRENT -eq 3 && $words[CURRENT-1] = -* ]]; then
  if [[ ${words[1]:t} = chgrp ]] || compset -P '*[:.]'; then
    _groups
  else
    if [[ $OSTYPE = (solaris*|hpux*) ]]; then
      _users -S ':' -q
    else
      _users -S '.' -q
    fi
  fi
else
  _files
fi
