#compdef last passwd groups

# If a parameter `users' exists and it is an array, we first try to
# complete only to its elements.

local expl

_wanted users expl user || return 1

[[ "${(t)users}" = *array* ]] &&
    compadd "$expl[@]" "$@" - "$users[@]" && return 0

compadd "$@" "$expl[@]" - "${(@k)userdirs}"
