#autoload

local expl nm="$compstate[nmatches]"

if [[ -prefix 1 *@ ]]; then
  local user=${PREFIX/@}
  compset -P 1 '*@'
  _description expl "hostnames for $user"
  _combination accounts_users_hosts users="$user" hosts "$expl[@]" "$@"
else
  _description expl "usernames"
  _combination accounts_users_hosts users -S@ -q "$expl[@]" "$@"
fi

[[ nm -ne compstate[nmatches] ]]
